{"ast":null,"code":"import _regeneratorRuntime from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import apiReset from\"../../services/apiReset\";import Logo from\"../../assets/logo.png\";var ForgotVolta=/*#__PURE__*/function(_Component){_inherits(ForgotVolta,_Component);function ForgotVolta(){var _getPrototypeOf2;var _this;_classCallCheck(this,ForgotVolta);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ForgotVolta)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={token:'',password:'',password1:'',error:''};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,token,password,password1,equals,falta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,token=_this$state.token,password=_this$state.password,password1=_this$state.password1;equals=password===password1?true:false;falta=!password&&!password1?false:true;if(!falta){_context.next=20;break;}if(!equals){_context.next=17;break;}_context.prev=6;_context.next=9;return apiReset.put(\"/passwords/confirm\",{token:token,password:password});case 9:_this.setState({error:'Senha Alterada com sucesso!'});_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](6);_this.setState({error:\"Ocorreu um erro ao alterar senha.  o token expirou\"});case 15:_context.next=18;break;case 17:_this.setState({error:'Senhas não conferem !'});case 18:_context.next=21;break;case 20:_this.setState({error:\"Preencha ( Senhas ) para continuar!\"});case 21:case\"end\":return _context.stop();}}},_callee,null,[[6,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(ForgotVolta,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({token:this.props.match.params.id});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"container centered\"},React.createElement(\"div\",{className:\"col s12 login\"},React.createElement(\"div\",{className:\"card darken-1 c\"},React.createElement(\"div\",{className:\"card-content white-text\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"img\",{src:Logo,alt:\"logo\",className:\"imgLogin\"}),React.createElement(\"div\",null,React.createElement(\"p\",{className:\"links\"},\"Recupera\\xE7\\xE3o de Senha!\"),React.createElement(\"input\",{type:\"password\",placeholder:\"Nova Senha\",className:\"browser-default input\",onChange:function onChange(e){return _this2.setState({password:e.target.value});}}),React.createElement(\"input\",{type:\"password\",className:\"browser-default input\",placeholder:\"Repetir Senha\",onChange:function onChange(e){return _this2.setState({password1:e.target.value});}})),React.createElement(\"button\",{className:\"bowser-default button\",type:\"submit\"},\"Cadastrar Nova Senha!\"),React.createElement(Link,{className:\"links\",to:\"/\"},\"Login\")))),this.state.error?React.createElement(\"div\",{className:\"msg\"},this.state.error):''));}}]);return ForgotVolta;}(Component);export default ForgotVolta;","map":{"version":3,"sources":["/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/src/pages/ForgotVolta/index.js"],"names":["React","Component","Link","apiReset","Logo","ForgotVolta","state","token","password","password1","error","handleSubmit","e","preventDefault","equals","falta","put","setState","props","match","params","id","target","value"],"mappings":"+9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,C,GAEMC,CAAAA,W,mZACFC,K,CAAQ,CACJC,KAAK,CAAE,EADH,CAEJC,QAAQ,CAAE,EAFN,CAGJC,SAAS,CAAE,EAHP,CAIJC,KAAK,CAAE,EAJH,C,OAaRC,Y,0FAAe,iBAAMC,CAAN,wKACXA,CAAC,CAACC,cAAF,GADW,YAE4B,MAAKP,KAFjC,CAEHC,KAFG,aAEHA,KAFG,CAEIC,QAFJ,aAEIA,QAFJ,CAEcC,SAFd,aAEcA,SAFd,CAGPK,MAHO,CAGEN,QAAQ,GAAKC,SAAb,CAAyB,IAAzB,CAAgC,KAHlC,CAIPM,KAJO,CAIE,CAACP,QAAD,EAAa,CAACC,SAAd,CAA0B,KAA1B,CAAkC,IAJpC,KAKPM,KALO,8BAMJD,MANI,gEAQOX,CAAAA,QAAQ,CAACa,GAAT,CAAa,oBAAb,CAAmC,CAAET,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAnC,CARP,QASC,MAAKS,QAAL,CAAc,CACVP,KAAK,CAAE,6BADG,CAAd,EATD,iFAaC,MAAKO,QAAL,CAAc,CAAEP,KAAK,CAAE,oDAAT,CAAd,EAbD,uCAgBH,MAAKO,QAAL,CAAc,CAAEP,KAAK,CAAE,uBAAT,CAAd,EAhBG,uCAmBP,MAAKO,QAAL,CAAc,CAAEP,KAAK,CAAE,qCAAT,CAAd,EAnBO,qE,kKANI,CACf,KAAKO,QAAL,CAAc,CACVV,KAAK,CAAE,KAAKW,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EADrB,CAAd,EAGH,C,uCAyBQ,iBAEL,MACA,4BAAK,SAAS,CAAC,oBAAf,EACI,2BAAK,SAAS,CAAC,eAAf,EACI,2BAAK,SAAS,CAAC,iBAAf,EACI,2BAAK,SAAS,CAAC,yBAAf,EACI,4BAAM,QAAQ,CAAE,KAAKV,YAArB,EACI,2BAAK,GAAG,CAAEP,IAAV,CAAgB,GAAG,CAAC,MAApB,CAA2B,SAAS,CAAC,UAArC,EADJ,CAEI,+BACI,yBAAG,SAAS,CAAC,OAAb,gCADJ,CAEI,6BACI,IAAI,CAAC,UADT,CAEI,WAAW,CAAC,YAFhB,CAGI,SAAS,CAAC,uBAHd,CAII,QAAQ,CAAE,kBAAAQ,CAAC,QAAI,CAAA,MAAI,CAACK,QAAL,CAAc,CAAET,QAAQ,CAAEI,CAAC,CAACU,MAAF,CAASC,KAArB,CAAd,CAAJ,EAJf,EAFJ,CAQI,6BACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,uBAFd,CAGI,WAAW,CAAC,eAHhB,CAII,QAAQ,CAAE,kBAAAX,CAAC,QAAI,CAAA,MAAI,CAACK,QAAL,CAAc,CAAER,SAAS,CAAEG,CAAC,CAACU,MAAF,CAASC,KAAtB,CAAd,CAAJ,EAJf,EARJ,CAFJ,CAiBI,8BAAQ,SAAS,CAAC,uBAAlB,CAA0C,IAAI,CAAC,QAA/C,0BAjBJ,CAkBI,oBAAC,IAAD,EAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,GAA3B,UAlBJ,CADJ,CADJ,CADJ,CAyBM,KAAKjB,KAAL,CAAWI,KAAX,CACF,2BAAK,SAAS,CAAC,KAAf,EACK,KAAKJ,KAAL,CAAWI,KADhB,CADE,CAIA,EA7BN,CADJ,CADA,CAmCH,C,yBA1EqBT,S,EA6E1B,cAAeI,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from \"react-router-dom\";\nimport apiReset from \"../../services/apiReset\";\nimport Logo from \"../../assets/logo.png\";\n\nclass ForgotVolta extends Component {\n    state = {\n        token: '',\n        password: '',\n        password1: '',\n        error: ''\n    }\n\n    componentDidMount(){\n        this.setState({\n            token: this.props.match.params.id\n        })\n    }\n\n    handleSubmit = async e => {\n        e.preventDefault();\n        const { token, password, password1 } = this.state;\n        let equals = password === password1 ? true : false\n        let falta =  !password && !password1 ? false : true\n        if (falta){\n            if(equals){\n                try {\n                    await apiReset.put(\"/passwords/confirm\", { token, password });\n                    this.setState({\n                        error: 'Senha Alterada com sucesso!'\n                    }) \n                } catch (err) {\n                    this.setState({ error: \"Ocorreu um erro ao alterar senha.  o token expirou\" });\n                }\n            }else {\n                this.setState({ error: 'Senhas não conferem !' })\n            }\n        } else {\n            this.setState({ error: \"Preencha ( Senhas ) para continuar!\" });\n        }\n    }\n\n    render() {\n\n        return(\n        <div className=\"container centered\">\n            <div className=\"col s12 login\">\n                <div className=\"card darken-1 c\">\n                    <div className=\"card-content white-text\">\n                        <form onSubmit={this.handleSubmit}>\n                            <img src={Logo} alt=\"logo\" className=\"imgLogin\" />\n                            <div>\n                                <p className=\"links\">Recuperação de Senha!</p>\n                                <input\n                                    type=\"password\"\n                                    placeholder=\"Nova Senha\"\n                                    className=\"browser-default input\"\n                                    onChange={e => this.setState({ password: e.target.value })}\n                                />\n                                <input\n                                    type=\"password\"\n                                    className=\"browser-default input\"\n                                    placeholder=\"Repetir Senha\"\n                                    onChange={e => this.setState({ password1: e.target.value })}\n                                />\n                            </div>\n                            <button className=\"bowser-default button\" type=\"submit\">Cadastrar Nova Senha!</button>\n                            <Link className=\"links\" to=\"/\">Login</Link>\n                        </form>\n                    </div>\n                </div>\n                { this.state.error ? \n                <div className=\"msg\">\n                    {this.state.error}\n                </div>\n                : ''}\n            </div>\n        </div>\n        )\n    }\n}\n\nexport default ForgotVolta"]},"metadata":{},"sourceType":"module"}