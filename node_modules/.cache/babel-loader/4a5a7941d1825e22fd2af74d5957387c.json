{"ast":null,"code":"import _regeneratorRuntime from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import api from'../../../../services/api';import Sidebar from'../fixedComponents/sidebar';import logo from'../../../../assets/user.png';var ProductEdit=/*#__PURE__*/function(_Component){_inherits(ProductEdit,_Component);function ProductEdit(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProductEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProductEdit)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={error:null,msg:'',category:[],id:'',name:'',category_id:'',price:'',description:'',active:'',mostraMsg:false,image:'',imagee:'',chegou:false};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleImageChange=function(e){_this.setState({imagee:e.target.files[0]});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();id=_this.props.match.params.id;_context.next=4;return api.put(\"/auth/product/\".concat(id,\"/\"),{id:_this.state.id,category_id:_this.state.category_id,name:_this.state.name,price:_this.state.price,description:_this.state.description,active:_this.state.active}).then(function(res){_this.setState({mostraMsg:true,msg:'Editado com sucesso!'});console.log(res.data.id);var form_data=new FormData();form_data.append('image[]',_this.state.imagee);api.post(\"/auth/product/\".concat(res.data.id,\"/images\"),form_data,{headers:{'content-type':'multipart/form-data'}}).catch(function(err){return console.log(err);});});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(ProductEdit,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id,response,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=this.props.match.params.id;_context2.next=3;return api.get(\"/auth/product/\".concat(id));case 3:response=_context2.sent;_context2.next=6;return api.get('/auth/category');case 6:res=_context2.sent;if(response){this.setState({id:response.data.id,name:response.data.name,category_id:response.data.category_id,price:response.data.price,description:response.data.description,active:response.data.active,image:response.data.image});this.setState({category:res.data});}case 8:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,error=_this$state.error,category=_this$state.category,mostraMsg=_this$state.mostraMsg,msg=_this$state.msg,image=_this$state.image;if(error){return React.createElement(\"div\",null,\"Error: \",error);}else{var _React$createElement;return React.createElement(\"div\",null,React.createElement(Sidebar,null),React.createElement(\"div\",{className:\"home\"},React.createElement(\"div\",{className:\"card t\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col\"},React.createElement(\"h4\",{className:\"corPadrao white-text right center editProduts\"},\"Editar Produto\"),React.createElement(\"form\",{className:\"col s12\",onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s4\"},React.createElement(\"i\",{className:\"material-icons prefix\"},\"note\"),React.createElement(\"input\",{id:\"account_circle\",type:\"text\",className:\"validate\",value:this.state.name,onChange:this.handleChange,required:true,placeholder:\"Nome do Produto\",name:\"name\"}),React.createElement(\"label\",{className:\"active\",id:\"account_circle\"},\"Nome do Produto\")),React.createElement(\"div\",{className:\"input-field col s4\"},React.createElement(\"i\",{className:\"material-icons prefix\"},\"account_balance\"),React.createElement(\"input\",(_React$createElement={id:\"account_box\",type:\"text\",className:\"validate\",value:this.state.price},_defineProperty(_React$createElement,\"type\",\"number\"),_defineProperty(_React$createElement,\"onChange\",this.handleChange),_defineProperty(_React$createElement,\"placeholder\",\"Pre\\xE7o R$ ... \"),_defineProperty(_React$createElement,\"required\",true),_defineProperty(_React$createElement,\"name\",\"price\"),_React$createElement)),React.createElement(\"label\",{className:\"active\",id:\"account_box\"},\"Pre\\xE7o R$:\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s8\"},React.createElement(\"i\",{className:\"material-icons prefix\"},\"description\"),React.createElement(\"textarea\",{className:\"validate\",name:\"description\",required:true,value:this.state.description,onChange:this.handleChange,placeholder:\"Descri\\xE7\\xE3o o mais breve possivel. - ex: Pizza 4 queijos com alho\"}),React.createElement(\"label\",{className:\"active\",id:\"address\"},\"Descri\\xE7\\xE3o do Produto\")),React.createElement(\"div\",{className:\"input-field col s2\"},React.createElement(\"select\",{className:\"browser-default inputUser validate \",required:true,name:\"active\",onChange:this.handleChange,value:this.state.active},React.createElement(\"option\",{onChange:this.handleChange,selected:true,value:\"002\"},\"Ativar ?\"),React.createElement(\"option\",{onChange:this.handleChange,value:\"1\"},\"Ativar\"),React.createElement(\"option\",{onChange:this.handleChange,value:\"0\"},\"Desativar\"))),React.createElement(\"div\",{className:\"input-field  col s2\"},React.createElement(\"select\",{className:\"browser-default inputUser validate\",name:\"category_id\",onChange:this.handleChange},React.createElement(\"option\",{onChange:this.handleChange,selected:true,value:\"001\"},\"Categoria ?\"),category.map(function(el){return React.createElement(\"option\",{key:el.id,value:el.id,onChange:_this2.handleChange},el.title);})))),React.createElement(\"div\",{className:\"row col s8\"},React.createElement(\"label\",{className:\"corPadrao white-text\"},\"Logo do Produto\"),React.createElement(\"div\",{className:\"file-field input-field\"},React.createElement(\"div\",{className:\"btn corPadrao\"},React.createElement(\"span\",null,\"Selecionar\"),React.createElement(\"input\",{type:\"file\",name:\"image[]\",accept:\"image/png, image/jpeg\",onChange:this.handleImageChange,required:true})),React.createElement(\"div\",{className:\"file-path-wrapper\"},React.createElement(\"input\",{className:\"file-path validate\",type:\"text\",placeholder:\"Upload file\",required:true})))),React.createElement(\"div\",{className:\"col s2 right\"},React.createElement(\"img\",{className:\"card-img-top imgs\",src:image==''?logo:image[image.length-1].url,style:{width:'5rem',height:'5rem',borderRadius:'25rem',marginRight:'55px'},alt:'Foto de  '+this.state.title})),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col right s1.5\"},React.createElement(\"button\",{type:\"submit\",className:\"btn-flat btn-medium corPadrao right\"},React.createElement(\"i\",{className:\"material-icons white-text\"},\"save\")),\"\\xA0\",React.createElement(\"a\",{onClick:this.props.history.goBack,className:\"btn-flat btn-medium corPadrao left \"},React.createElement(\"i\",{className:\"material-icons white-text\"},\"keyboard_arrow_left\"))),React.createElement(\"div\",{className:\"col s10 center\"},mostraMsg?React.createElement(\"div\",{className:\"msgg\"},msg):''))))))));}}}]);return ProductEdit;}(Component);export default withRouter(ProductEdit);","map":{"version":3,"sources":["/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/src/pages/App/components/product/ProductEdit.js"],"names":["React","Component","withRouter","api","Sidebar","logo","ProductEdit","state","error","msg","category","id","name","category_id","price","description","active","mostraMsg","image","imagee","chegou","handleChange","e","setState","target","value","handleImageChange","files","handleSubmit","preventDefault","props","match","params","put","then","res","console","log","data","form_data","FormData","append","post","headers","catch","err","get","response","map","el","title","length","url","width","height","borderRadius","marginRight","history","goBack"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'\nimport api from '../../../../services/api'\nimport Sidebar from '../fixedComponents/sidebar';\nimport logo from '../../../../assets/user.png'\n\nclass ProductEdit extends Component {\n    state = {\n        error: null,\n        msg: '',\n        category: [],\n       \n        id: '',\n        name: '',\n        category_id: '',\n        price: '',\n        description: '',\n        active: '',\n        mostraMsg: false,\n        image: '',\n        imagee: '',\n        chegou: false\n    }   \n\n    handleChange = e => {\n        this.setState({\n          [e.target.name]: e.target.value\n        })\n      }\n\n\n      handleImageChange = (e) => {\n        this.setState({\n          imagee: e.target.files[0]\n        })\n      };\n    \n    handleSubmit = async e => {\n      e.preventDefault();\n      const { id }  = this.props.match.params;\n      await api.put(`/auth/product/${id}/`,\n      {\n        id:this.state.id,\n        category_id:this.state.category_id,\n        name:this.state.name,\n        price:this.state.price,\n        description:this.state.description,\n        active:this.state.active\n      })\n      .then(res => {\n        this.setState({\n          mostraMsg: true,\n          msg: 'Editado com sucesso!'\n        })  \n\n          console.log(res.data.id)\n        let form_data = new FormData();\n        form_data.append('image[]', this.state.imagee);\n        api.post(`/auth/product/${res.data.id}/images`, form_data, {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        })\n        .catch(err => console.log(err))\n      })\n    }\n  \n  async componentDidMount() {\n    const { id } = this.props.match.params;\n    const response = await api.get(`/auth/product/${id}`);\n    const res = await api.get('/auth/category')\n    if(response) {\n        this.setState({\n          id: response.data.id,\n          name: response.data.name,\n          category_id: response.data.category_id,\n          price: response.data.price,\n          description: response.data.description,\n          active: response.data.active,\n          image: response.data.image\n        })\n        this.setState({\n          category: res.data\n        })\n    }      \n  }\n \n  render() {\n    const { error, category, mostraMsg, msg , image} = this.state;\n\n    if(error) {\n      return (\n        <div>Error: {error}</div>\n      )\n    } else {\n      return(\n        <div>\n        <Sidebar />\n        <div className=\"home\">\n            <div className=\"card t\">\n            <div className=\"row\">\n                <div className=\"col\" >\n                    <h4 className=\"corPadrao white-text right center editProduts\">Editar Produto</h4>\n                    <form className=\"col s12\" onSubmit={this.handleSubmit}>\n                        <div className=\"row\">\n                            <div className=\"input-field col s4\">\n                                <i className=\"material-icons prefix\">note</i>\n                                <input id=\"account_circle\" type=\"text\" className=\"validate\"\n                                    value={this.state.name}\n                                    onChange={this.handleChange}\n                                    required\n                                    placeholder=\"Nome do Produto\"\n                                    name=\"name\"\n                                />\n                                <label className=\"active\" id=\"account_circle\">Nome do Produto</label>\n                            </div>\n                            <div className=\"input-field col s4\">\n                                <i className=\"material-icons prefix\">account_balance</i>\n                                <input id=\"account_box\" type=\"text\" className=\"validate\" \n                                    value={this.state.price}\n                                    type=\"number\"\n                                    onChange={this.handleChange}\n                                    placeholder=\"Preço R$ ... \"\n                                    required\n                                    name=\"price\"\n                                />\n                                <label className=\"active\" id=\"account_box\">Preço R$:</label>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"input-field col s8\">\n                                <i className=\"material-icons prefix\">description</i>\n                                    <textarea className=\"validate\" \n                                        name=\"description\"\n                                        required\n                                        value={this.state.description}\n                                        onChange={this.handleChange}\n                                        placeholder=\"Descrição o mais breve possivel. - ex: Pizza 4 queijos com alho\"\n                                    />\n                                    <label className=\"active\" id=\"address\">Descrição do Produto</label>\n                            </div>\n                            <div className=\"input-field col s2\">\n                                <select className=\"browser-default inputUser validate \" required name=\"active\"\n                                    onChange={this.handleChange}\n                                    value={this.state.active}>\n                                    <option onChange={this.handleChange} selected value=\"002\">Ativar ?</option>\n                                    <option onChange={this.handleChange} value=\"1\">Ativar</option>\n                                    <option onChange={this.handleChange} value=\"0\">Desativar</option>\n                                </select> \n                            </div>\n                            <div className=\"input-field  col s2\">\n                                <select  className=\"browser-default inputUser validate\"  name=\"category_id\"\n                                    onChange={this.handleChange}>\n                                      <option onChange={this.handleChange} selected value=\"001\">Categoria ?</option>\n                                    {  \n                                        category.map((el) => (    \n                                            <option key={el.id} value={el.id} onChange={this.handleChange}>{el.title}</option>\n                                        ))\n                                    }\n                                </select> \n                            </div>\n                        </div>\n                        <div className = \"row col s8\">\n                          <label className=\"corPadrao white-text\">Logo do Produto</label>\n                          <div className = \"file-field input-field\">\n                              <div className = \"btn corPadrao\">\n                                <span>Selecionar</span>\n                                <input type = \"file\" \n                                  name=\"image[]\"\n                                  accept=\"image/png, image/jpeg\"  \n                                  onChange={this.handleImageChange} \n                                  required\n                                />\n                              </div>\n                              \n                              <div className = \"file-path-wrapper\">\n                                <input className = \"file-path validate\" type = \"text\"\n                                    placeholder = \"Upload file\" \n                                    required\n                                    />\n                              </div>\n                          </div>\n                        </div>\n                        <div className=\"col s2 right\">\n                                <img className=\"card-img-top imgs\" \n                                    src={image == '' ? logo : image[image.length -1].url}\n                                    style={{ width: '5rem', height: '5rem', borderRadius: '25rem', marginRight: '55px' }} \n                                    alt={'Foto de  ' +this.state.title} \n                                />\n                            </div>\n  \n                        <div className=\"row\">\n                            <div className=\"col right s1.5\">\n                                <button  type=\"submit\" \n                                    className=\"btn-flat btn-medium corPadrao right\">\n                                    <i className=\"material-icons white-text\">save</i>\n                                </button>\n                                &nbsp;\n                                <a  onClick={this.props.history.goBack}\n                                    className=\"btn-flat btn-medium corPadrao left \">\n                                    <i className=\"material-icons white-text\">keyboard_arrow_left</i>   \n                                </a>\n                            </div>\n                            <div className=\"col s10 center\">\n                                { mostraMsg ?  <div className=\"msgg\">{ msg }</div> : ''}\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n  \n        </div>\n        </div>\n        </div> \n      )\n    }\n  }\n}\n\nexport default withRouter(ProductEdit);"]},"metadata":{},"sourceType":"module"}