{"ast":null,"code":"var _jsxFileName = \"/home/belinglima/MEGAsync/TCC/Projetos/PizzaBreak/web/src/pages/App/components/order/OrderList.js\";\nimport React, { Component } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport api from '../../../../services/api';\n\nclass OrderList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: [],\n      users: [],\n      contagem: '',\n      detalha: []\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const res = await api.get('/auth/user');\n    const response = await api.get('/auth/order');\n\n    if (response) {\n      this.setState({\n        orders: response.data,\n        contagem: response.data\n      });\n      this.setState({\n        users: res.data\n      });\n    }\n  }\n\n  async detalhaProduto(order_id) {\n    const response = await api.get(\"/auth/order/\".concat(order_id));\n\n    if (response) {\n      this.setState({\n        detalha: response.data\n      });\n    }\n\n    console.log(this.state.detalha);\n  }\n\n  async entrega(orderId) {\n    const id = orderId;\n    const motivo = await api.post(\"/auth/order/\".concat(id), {\n      motivo: this.state.motivo,\n      status: \"DELIVERED\"\n    });\n\n    if (motivo) {\n      const payload = await api.get('/auth/order');\n\n      if (payload) {\n        this.setState({\n          orders: payload.data\n        });\n      }\n    }\n  }\n\n  async deletaOrder() {\n    const orderId = document.getElementById('campo').value;\n    const id = orderId;\n    const motivo = await api.post(\"/auth/order/\".concat(id), {\n      motivo: this.state.motivo,\n      status: \"CANCELED\"\n    });\n    const apaga = await api.delete(\"/auth/order/\".concat(id));\n\n    if (apaga && motivo) {\n      const payload = await api.get('/auth/order');\n\n      if (payload) {\n        this.setState({\n          orders: payload.data\n        });\n      }\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          users = _this$state.users,\n          orders = _this$state.orders,\n          detalha = _this$state.detalha;\n\n    function Parametros(valor) {\n      document.getElementById('campo').value = valor;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(ReactTooltip, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      onClick: () => this.deletaOrder(),\n      className: \"right\",\n      \"data-tip\": \"Cancelar Agora\",\n      \"data-place\": \"right\",\n      \"data-effect\": \"solid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"btn-flat corPadrao darken-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons white-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"cancel\"))));\n  }\n\n}\n\nexport default OrderList;","map":{"version":3,"sources":["/home/belinglima/MEGAsync/TCC/Projetos/PizzaBreak/web/src/pages/App/components/order/OrderList.js"],"names":["React","Component","ReactTooltip","api","OrderList","state","orders","users","contagem","detalha","handleChange","e","setState","target","name","value","componentDidMount","res","get","response","data","detalhaProduto","order_id","console","log","entrega","orderId","id","motivo","post","status","payload","deletaOrder","document","getElementById","apaga","delete","render","Parametros","valor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ReactTooltip from 'react-tooltip'\nimport api from '../../../../services/api'\n\nclass OrderList extends Component{\n\n  state = {\n    orders: [],\n    users: [],\n    contagem: '',\n    detalha: [],\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  async componentDidMount() {\n    const res = await api.get('/auth/user')\n    const response = await api.get('/auth/order')\n    if(response) {\n      this.setState({\n          orders: response.data,\n          contagem: response.data\n      })\n      this.setState({\n        users: res.data\n      })\n    }\n  }\n\n  async detalhaProduto(order_id) {\n    const response = await api.get(`/auth/order/${order_id}`);\n      if(response) {\n        this.setState({\n          detalha: response.data\n        })\n      }\n      console.log(this.state.detalha)\n  }\n\n  async entrega(orderId) {\n    const id = orderId;\n    const motivo = await api.post(`/auth/order/${id}`,{\n      motivo: this.state.motivo,\n      status: \"DELIVERED\"\n    })\n\n    if(motivo) {\n      const payload = await api.get('/auth/order')\n      if(payload) {\n        this.setState({\n            orders: payload.data\n        })\n      }       \n    }\n  }\n\n  async deletaOrder (){\n    const orderId = document.getElementById('campo').value\n    const id = orderId;\n    const motivo = await api.post(`/auth/order/${id}`,{\n      motivo: this.state.motivo,\n      status: \"CANCELED\"\n    })\n\n    const apaga = await api.delete(`/auth/order/${id}`);\n    if(apaga && motivo) {\n      const payload = await api.get('/auth/order')\n      if(payload) {\n        this.setState({\n            orders: payload.data\n        })\n      }       \n    }\n  }\n \n  render() {\n    const { users, orders, detalha } = this.state;\n\n    function Parametros(valor) {\n      document.getElementById('campo').value = valor;\n    }\n    return(\n      <div className=\"home\">\n        <ReactTooltip />\n        <a  onClick={() => this.deletaOrder()}\n                  className=\"right\" data-tip=\"Cancelar Agora\" data-place=\"right\" data-effect=\"solid\">\n                  <div className=\"btn-flat corPadrao darken-4\">\n                    <i className=\"material-icons white-text\">cancel</i>\n                  </div>\n                </a>\n\n      </div>\n    )\n  }\n}\n\nexport default OrderList"]},"metadata":{},"sourceType":"module"}