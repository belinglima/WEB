{"ast":null,"code":"import _regeneratorRuntime from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import api from'../../../../services/api';import Sidebar from'../fixedComponents/sidebar';var AddCategory=/*#__PURE__*/function(_Component){_inherits(AddCategory,_Component);function AddCategory(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddCategory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddCategory)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={title:'',description:'Ajustar',active:true,msg:'',mostraMsg:false,image:null,chegou:false};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleImageChange=function(e){_this.setState({image:e.target.files[0]});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// console.log(this.state);\n_context.next=3;return api.post('/auth/category',{title:_this.state.title,description:_this.state.description,active:_this.state.active}).then(function(res){_this.setState({mostraMsg:true,msg:'Cadastrada com sucesso!'});var form_data=new FormData();form_data.append('image[]',_this.state.image);api.post(\"/auth/category/\".concat(res.data.id,\"/images\"),form_data,{headers:{'content-type':'multipart/form-data'}}).catch(function(err){return console.log(err);});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(AddCategory,[{key:\"render\",value:function render(){var _this$state=this.state,msg=_this$state.msg,mostraMsg=_this$state.mostraMsg;return React.createElement(\"div\",null,React.createElement(Sidebar,null),React.createElement(\"div\",{className:\"home\"},React.createElement(\"div\",{className:\"card diminui\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col s12\"},React.createElement(\"h4\",{className:\"corPadrao white-text produto right\"},\"Cadastrar Categoria\"),React.createElement(\"form\",{className:\"col s12\",onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"input-field col s12 tt\"},React.createElement(\"i\",{className:\"material-icons prefix\"},\"bookmarks\"),React.createElement(\"input\",{id:\"account_circle\",type:\"text\",className:\"validate\",value:this.state.title,onChange:this.handleChange,required:true,placeholder:\"Nome da Categoria\",name:\"title\"}),React.createElement(\"label\",{className:\"active\",id:\"account_circle\"},\"Categoria\")),React.createElement(\"div\",{className:\"row col s12\"},React.createElement(\"label\",{className:\"corPadrao white-text\"},\"Logo da Categoria\"),React.createElement(\"div\",{className:\"file-field input-field\"},React.createElement(\"div\",{className:\"btn corPadrao\"},React.createElement(\"span\",null,\"Selecionar\"),React.createElement(\"input\",{type:\"file\",name:\"image[]\",accept:\"image/png, image/jpeg\",onChange:this.handleImageChange,required:true})),React.createElement(\"div\",{className:\"file-path-wrapper\"},React.createElement(\"input\",{className:\"file-path validate\",type:\"text\",placeholder:\"Upload file\",required:true})))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col right s1.0\"},React.createElement(\"button\",{type:\"submit\",className:\"btn-flat btn-medium corPadrao right \"},React.createElement(\"i\",{className:\"material-icons white-text\"},\"save\")),\"\\xA0\",React.createElement(\"a\",{onClick:this.props.history.goBack,className:\"btn-flat btn-medium corPadrao left \"},React.createElement(\"i\",{className:\"material-icons white-text\"},\"keyboard_arrow_left\"))),React.createElement(\"div\",{className:\"col s10\"},mostraMsg?React.createElement(\"div\",{className:\"msgg\"},msg):''),React.createElement(\"br\",null))))))));}}]);return AddCategory;}(Component);export default AddCategory;","map":{"version":3,"sources":["/home/belinglima/MEGAsync/TCC/Projetos/github-Salomao/web/src/pages/App/components/category/AddCategory.js"],"names":["React","Component","api","Sidebar","AddCategory","state","title","description","active","msg","mostraMsg","image","chegou","handleChange","e","setState","target","name","value","handleImageChange","files","handleSubmit","preventDefault","post","then","res","form_data","FormData","append","data","id","headers","catch","err","console","log","props","history","goBack"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport api  from '../../../../services/api'\nimport Sidebar from '../fixedComponents/sidebar'\n\nclass AddCategory extends Component {\n    state = {\n      title: '',\n      description: 'Ajustar',\n      active: true,\n      msg: '',\n      mostraMsg: false,\n      image: null,\n      chegou: false\n    }\n\n    handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      })\n    }\n\n    handleImageChange = (e) => {\n      this.setState({\n        image: e.target.files[0]\n      })\n    };\n  \n    handleSubmit = async e => {\n      e.preventDefault();\n      // console.log(this.state);\n  \n        await api.post('/auth/category',{\n              title:this.state.title,\n              description:this.state.description,\n              active:this.state.active\n            })\n            .then(res => {\n              this.setState({\n                mostraMsg: true,\n                msg: 'Cadastrada com sucesso!'\n              })  \n\n              let form_data = new FormData();\n              form_data.append('image[]', this.state.image);\n              api.post(`/auth/category/${res.data.id}/images`, form_data, {\n                headers: {\n                  'content-type': 'multipart/form-data'\n                }\n              })\n              .catch(err => console.log(err))\n            })\n          }\n\n    render() {\n      const { msg, mostraMsg } = this.state;\n      return(\n        <div>\n        <Sidebar />\n        <div className=\"home\">\n            <div className=\"card diminui\">\n              <div className=\"row\">\n                <div className=\"col s12\">\n                   <h4 className=\"corPadrao white-text produto right\">Cadastrar Categoria</h4>\n                  <form className=\"col s12\" onSubmit={this.handleSubmit}>\n              \n                      <div className=\"input-field col s12 tt\">\n                        <i className=\"material-icons prefix\">bookmarks</i>\n                        <input id=\"account_circle\" type=\"text\" className=\"validate\"\n                            value={this.state.title}\n                            onChange={this.handleChange}\n                            required\n                            placeholder=\"Nome da Categoria\"\n                            name=\"title\"\n                        />\n                        <label className=\"active\" id=\"account_circle\">Categoria</label>\n                      </div>\n                     \n                      <div className = \"row col s12\">\n                        <label className=\"corPadrao white-text\">Logo da Categoria</label>\n                        <div className = \"file-field input-field\">\n                            <div className = \"btn corPadrao\">\n                              <span>Selecionar</span>\n                              <input type = \"file\" \n                                name=\"image[]\"\n                                accept=\"image/png, image/jpeg\"  \n                                onChange={this.handleImageChange} \n                                required\n                              />\n                            </div>\n                            \n                            <div className = \"file-path-wrapper\">\n                              <input className = \"file-path validate\" type = \"text\"\n                                  placeholder = \"Upload file\" \n                                  required\n                                  />\n                            </div>\n                        </div>\n                      </div>\n\n                    \n                   \n                    <div className=\"row\">\n                      <div className=\"col right s1.0\">\n                          <button  type=\"submit\" \n                              className=\"btn-flat btn-medium corPadrao right \">\n                              <i className=\"material-icons white-text\">save</i>\n                          </button>\n                          &nbsp;\n                          <a  onClick={this.props.history.goBack}\n                              className=\"btn-flat btn-medium corPadrao left \">\n                              <i className=\"material-icons white-text\">keyboard_arrow_left</i>\n                          </a>\n                      </div>\n                      <div className=\"col s10\">\n                          { mostraMsg ?  <div className=\"msgg\">{ msg }</div> : ''}\n                      </div>\n                      <br />\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>  \n    )\n  }\n}\n\nexport default AddCategory;"]},"metadata":{},"sourceType":"module"}